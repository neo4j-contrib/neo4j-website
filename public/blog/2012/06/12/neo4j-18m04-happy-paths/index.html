
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Neo4j 1.8.M04 - Happy Paths â†’ Neo4j</title>
  <meta name="author" content="Neo Technology">

  
  <meta name="description" content="Neo4j 1.8.M04 - Happy Paths Jun 12th, 2012 Neo4j 1.8 Milestone 4 is available today, offering a few new ways to help you find happy paths. To query &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://neo4j-org.heroku.com/blog/2012/06/12/neo4j-18m04-happy-paths/">
  <!-- <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css"> -->
  <script src="/javascripts/modernizr-2.5.3.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Neo4j" type="application/atom+xml">
  <!-- Ported from Super Skeleton -->

  <!--[if lt IE 9]>  
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- Mobile Specific Metas
    ================================================== -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    
  <!-- Fonts from typekit
    ================================================== -->
  <script type="text/javascript" src="http://use.typekit.com/jxu6gip.js"></script>
<!--  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>-->
  
  <!-- CSS
    ================================================== -->
  <link rel="stylesheet" href="/assets/stylesheets/styles.css" />
  <link type="text/css" rel="stylesheet" id="skin" href="/assets/stylesheets/skin-clean.css" />
  <link type="text/css" rel="stylesheet" id="type" href="/assets/stylesheets/typography.css" />
  <link type="text/css" rel="stylesheet" id="type" href="/assets/stylesheets/peekaboo.css" />
  
  
  <!-- Favicons
  ================================================== -->
  <link rel="shortcut icon" href="/assets/images/favicon.png" />
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/apple-touch-icon-114x114.png" />
<!-- Favicons
================================================== -->
<link rel="shortcut icon" href="images/favicon.png">
<link rel="apple-touch-icon" href="images/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="144x144" href="images/apple-touch-icon-144x144.png">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1192232-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner">
<!-- Header -->
<div class="main-header clearfix super-container full-width ">
  <div class="container"> <!-- 960grid -->
    <hgroup class="six columns alpha">
      <a class="browse" href="#"><h1 id="logo"><img src="/assets/images/theme/neo4j-logo/header-logo.png" alt="logo"></h1></a>
    </hgroup>
    
    <nav class="ten columns omega">
      <div class="header-advert">
        <p><strong>Neo4j 1.8.M06</strong></p>
        <a href="http://blog.neo4j.org/2012/07/neo4j-18m06-rolling-upgrades.html" id="readme" class="button yellow">Read Me</a>
        <a href="/download" id="download" class="button green">Download</a>
      </div>
    </nav>  
  </div>
</div>
    
<div class="browse-menu clearfix super-container full-width hidden-if-js">

    <div class="container">
      <div class="two columns">
        <h2><a href="/"><strong>Start</strong> <span>Your Path</span></a></h2>
      </div>
      <div class="fourteen columns clearfix">
      <ul>
        <li><a href="/about">About Neo4j</a></li>
        <li><a href="http://console.neo4j.org">Try Live</a></li>
        <li><a href="/download/">Download</a></li>
      </ul>
      </div>
    </div>
    
    <div class="container">
      <div class="two columns">
        <h2><a href="/learn/"><strong>Learn</strong> <span>What, Why, How</span></a></h2>
      </div>
      <div class="fourteen columns">
      <ul>
        <li><a href="/blog/">Blog</a></li>
        <li><a href="http://video.neo4j.org">Videos</a></li>
          <li><a href="/gallery/">Gallery</a></li>
        <li><a href="http://docs.neo4j.org/">Neo4j Manual</a></li>
      </ul>
      </div>
    </div>
    
    <div class="container">
      <div class="two columns">
        <h2><a href="/create/"><strong>Create</strong> <span>Any Application</span></a></h2>
      </div>
      <div class="fourteen columns">
      <ul>
        <li><a href="/languages/">Languages</a></li>
        <li><a href="/spring/">Spring Data</a></li>
        <li><a href="/cloud/">Cloud</a></li>
      </ul>           
    </div>
  </div>
  
  <div class="container">
    <div class="two columns">
    <h2><a href="/participate/"><strong>Participate</strong> <span>In Community</span></a></h2>
    </div>
    <div class="fourteen columns">
      <ul>
        <li><a href="http://groups.google.com/group/neo4j/">Google Group</a></li>
        <li><a href="http://stackoverflow.com/questions/tagged/neo4j">Stack Overflow</a></li>
        <li><a href="http://neo4j.meetup.com/">Meetups</a></li>
        <li><a href="http://github.com/neo4j/">Git Hub</a></li>
      </ul>
    </div>
  </div>
  
</div>  

</header>
  <nav role="navigation"><!-- <ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:neo4j-org.heroku.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
 -->
 <!-- <ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>
 -->
</nav>
  <div id="main" class="super-container full-width" >
    <div id="content" class="container">
      <!-- Super Container -->
<div class="super-container full-width">

  <!-- 960 Container -->
  <div class="container">
    
    <!-- CONTENT -->
    <div class="eleven columns content">
      
      
      <!-- ENTRY COLUMN -->
      <div id="entry">       
          
        
        <!-- THE_CONTENT -->  
        <article role="article" class="the_content" class="post type-post entry single"> 
          
  <header>

    
      <h2 class="entry-title title">Neo4j 1.8.M04 - Happy Paths</h2>
    
    

      <hr class="half-bottom"/> 
      <p class="meta"> 
        








  




<time datetime="2012-06-12T00:00:00-04:00" pubdate data-updated="true">Jun 12<span>th</span>, 2012</time>
        

        <hr /> 
      </p>
    
  </header>



<div class="entry-content" class="the_content" class="post type-post hentry"><div class='post'>
<a href="https://github.com/tinwelint"><img alt="" border="0" src="http://neo4j.org/img/mattias.jpg" style="cursor: hand; cursor: pointer; float: left; height: 283px; margin: 0 10px 10px 0; width: 204px;" /></a><br />Neo4j 1.8 Milestone 4 is available today, offering a few new ways to help you find happy paths. To query a graph you use a traversal, which identifies paths of nodes and relationships. This release updates the capabilities of Neo4j&#8217;s core Traversal Framework and introduces new ways to use paths in Cypher.<br /><h2>Graph Sherpa Mattias Persson</h2><a href="https://github.com/tinwelint">Mattias Persson</a>&nbsp;works throughout the Neo4j code base, but is particularly well acquainted with the Traversal Framework, a core component of the Neo4j landscape. He&#8217;s agreed to guide us on a traversal tour:<br /><em>AK</em>: So, what exactly is a Traversal?<br /><em>MP</em>: I would say from one or more given nodes in your graph move around to other nodes via their connected relationships in search of your answer. The traversal can be controlled in different ways, for example which relationships to traverse at any given position, ordering and so on. The general outcome is a list of paths from which the relevant information can be extracted.<br /><em>AK</em>: And the Traversal Framework, then. Is it just for describing a Traversal?<br /><em>MP</em>: Sure, it&#8217;s for describing where the traversal should go and also implementation to execute the traversal itself.<br /><em>AK</em>: Can you give an example, like how would I find the friends of my friends?<br /><em>MP</em>: So here the starting point is you, the node representing you. And you&#8217;d tell the traversal to follow KNOWS relationships or similar down to depth 2. Also every friend of friend should only be returned once (such uniqueness is by default). So in embedded code:<br /><pre class="brush: java">Iterable&lt;Node&gt; friendsOfFriends = traversal()<br />  .breadthFirst()<br />  .relationships(KNOWS)<br />  .evaluator(Evaluators.atDepth(2))<br />  .traverse().nodes();</pre><em>AK</em>: OK, interesting. It&#8217;s such a different way of querying, though. For people who are new to Traversals, what&#8217;s your advice for how to &#8216;get it&#8217;?<br /><i>MP</i>: Look at traversals as local, where instead of having your entire database and query globally by matching values, you start at a known point where your relationships becomes your index and lead you to what you&#8217;re looking for. So you describe how the traversal will behave, where it should go and not go and you receive callbacks about relevant data, as per your description.<br /><em>AK</em>: And what are the benefits of the new update to the Traversal Framework?<br /><em>MP</em>: There are some additions here. One is bidirectional traversals, which is essentially like describing two traversals, one from each side (meaning one or more given start nodes) and where they collide in the middle will produce results in the form of paths. In most scenarios where you know both the start and end node(s) a bidirectional traversal will get you your answer with much less relationships traversed, i.e. faster traversal. Reason being that number of relationships needed to be traversed on each depth increases exponentially, so by traversing half the depth from each side cuts down on that growth. The &#8220;all paths&#8221; and &#8220;all simple paths&#8221; implementations in the graph-algo collection uses bidirectional traversals now. Dijkstra and A* will probably move over to that as well, and it&#8217;s essentially just a small change in your traversal description to make it bidirectional.<br />There&#8217;s also an addition to the &#8220;expander&#8221;, i.e. the one responsible for deciding which relationships to follow given a position in the traversal. Previously it could only make decisions based on the node for the current position, but now it can view the whole path leading up to the current position.<br />Also some minor things like being able to get metadata about the traversal (number of relationships visited and so forth), more convenience methods on Path interface.<br /><i>AK</i>: Nice. That&#8217;s a lot of good stuff. How will REST users be able to take advantage of these new capabilities?<br /><i>MP</i>: Well, you can soon expect Cypher to optimize queries that can take advantage of it. That&#8217;s the usual thing, just keep writing queries and we&#8217;ll keep making them faster.<br /><i>AK</i>: Thanks so much Mattias for all the hard work.<br /><h2>Paths as Expressions</h2>In Cypher, much of the work in a statement involves working with paths. Now, paths themselves can be treated as expressions. This is most immediately explained with a simple example. Prior to 1.8.M04, you could capture a path with an identifier like this:<br /><pre class="brush: sql">START n=node(...), m=node(...) <br />    match p=n--&gt;()&lt;--m <br />    return collect(p) as allPaths</pre>With paths as expressions, that can be re-written as:<br /><pre class="brush: sql">START n=node(...), m=node(...) <br />    return n--&gt;()&lt;--m as allPaths</pre>Simply return the path that you want. There are, of course, much more fun things that can be done with this, which we&#8217;ll leave to explore another time. Because the best thing to do right now is&#8230;<br /><h2>Try Neo4j 1.8.M04</h2>Neo4j 1.8.M04 is available:<br /><ul><li>for immediate <a href="http://neo4j.org/download">download on Neo4j.org</a></li><li>provisioning on Heroku with heroku addons:add neo4j &#8211;neo4j-version 1.8.M04</li><li>discussion on the <a href="http://neo4j.org/forums">Neo4j Google Group</a></li><li>questions on <a href="http://stackoverflow.com/questions/tagged/neo4j">Stack Overflow tag #neo4j</a></li></ul><br />Cheers,<br />the Neo4j Team</div>
</div>

 
               

        </article>
        <!-- /THE_CONTENT -->
        
        <br />
        <hr />  
         
          <footer>
            <p class="meta meta-space">
              
  

<span class="byline author vcard">Posted by <span class="fn">Neo Technology</span></span>

              








  




<time datetime="2012-06-12T00:00:00-04:00" pubdate data-updated="true">Jun 12<span>th</span>, 2012</time>
              


            </p>
            
              <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://neo4j-org.heroku.com/blog/2012/06/12/neo4j-18m04-happy-paths/" data-via="neo4j" data-counturl="http://neo4j-org.heroku.com/blog/2012/06/12/neo4j-18m04-happy-paths/" >Tweet</a>
  
  
  
</div>

            
            <p class="meta meta-space">
              
                <a class="basic-alignment left" href="/blog/2012/06/08/graphconnect-graph-leadership/" title="Previous Post: GraphConnect: graph leadership visualized">&laquo; GraphConnect: graph leadership visualized</a>
              
              
                <a class="basic-alignment right" href="/blog/2012/06/13/re-presenting-neo4j-dot-org/" title="Next Post: Re-presenting Neo4j.org">Re-presenting Neo4j.org &raquo;</a>
              
            </p>
            <div class="meta-space">          
              <div class="tags clearfix">
                <img src="/assets/images/theme/tag.png" class="tag_icon" />
                <a href="#" rel="tag" class="button yellow">Premium Theme</a> 
                <a href="#" rel="tag" class="button yellow">Image Gallery</a> 
                <a href="#" rel="tag" class="button yellow">Responsive</a> 
                <a href="#" rel="tag" class="button yellow">960</a> 
                <a href="#" rel="tag" class="button yellow">Mobile</a>            
              </div>        
            </div> 
          </footer>
        
        <br />
        <hr />
        
      </div>  
      <!-- /#ENTRY COLUMN -->   
      
            
    </div>  
    <!-- /CONTENT -->
    
    <!-- ============================================== -->
    
    <!-- SIDEBAR -->
    
    <aside class="five columns sidebar">
      
      
        <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/06/13/re-presenting-neo4j-dot-org/">Re-presenting Neo4j.org</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/12/neo4j-18m04-happy-paths/">Neo4j 1.8.M04 - Happy Paths</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/08/graphconnect-graph-leadership/">GraphConnect: graph leadership visualized</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/akollegger">@akollegger</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'akollegger',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("neo4j", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/neo4j" class="twitter-follow-button" data-show-count="false">Follow @neo4j</a>
  
</section>




      
        
    </aside>
    
    <!-- /SIDEBAR -->
    
  </div>
  <!-- /End 960 Container -->
    
</div>
<!-- /End Super Container -->
    </div>
  </div>
  <footer role="contentinfo"><footer class="super-container full-width" id="section-footer">    

  <!-- 960 Container -->
  <div class="container">
  

      <div class="one-third column alpha">
        <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/06/13/re-presenting-neo4j-dot-org/">Re-presenting Neo4j.org</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/12/neo4j-18m04-happy-paths/">Neo4j 1.8.M04 - Happy Paths</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/08/graphconnect-graph-leadership/">GraphConnect: graph leadership visualized</a>
      </li>
    
  </ul>
</section>

      </div>
      <div class="one-third column">
        <section>
  <h1>Worldwide Events</h1>
  <iframe src="https://www.google.com/calendar/b/0/embed?showTitle=0&amp;showNav=0&amp;showDate=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;mode=AGENDA&amp;height=300&amp;wkst=2&amp;bgcolor=%23ffffff&amp;src=neopersistence.com_3p7hh97rfcu76paib7l2dp4llo%40group.calendar.google.com&amp;color=%2329527A&amp;ctz=America%2FLos_Angeles" style=" border-width:0 " width="350" height="250" frameborder="0" scrolling="no"></iframe>
</section>

      </div>
      <div class="one-third column omega">
      </div>

  </div>
  <!-- /End 960 Container -->
  <div class="container">
    <div class="feature eight columns">
			<form action="http://groups.google.com/group/neo4j/boxsubscribe" id="SubscribeForm">
					<fieldset class="selfClear">
						<label for="regularInput">Join the discussion:</label>
						<input type="hidden" name="hl" value="en">
						<input type="email" name="email" class="email" placeholder="Your Email" required="required">
						<button type="submit">Join</button>
					</fieldset>
			</form>
    </div>
    <div class="feature eight columns">
    
    </div>
  
  </div>
</footer>


<!-- Super Container -->
<div class="super-container full-width" id="section-sub-footer">    

  <!-- 960 Container -->
  <div class="container">

    <div class="sixteen columns"> 
        <span class="copyright">&copy; 2012 - <a href="http://neotechnology.com"><img src="/assets/images/theme/neotech-logo/tiny-neo.png"></a></span>
        <span class="colophon">With love, from Sweden.</span>
    </div>

  </div>
  <!-- /End 960 Container -->
  
</div>
<!-- /End Super Container -->   




</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  <!-- JS
  ================================================== -->
  
  
  <script src="/assets/javascripts/jquery-1.6.2.min.js"></script>
  <script src="/assets/javascripts/tabs.js"></script>  
  
  <script src="/assets/javascripts/jquery.tipsy.js"></script>
  <script src="/assets/javascripts/jquery.prettyPhoto.js"></script>  
  <script src="/assets/javascripts/jquery.hoverIntent.js"></script>    
  <script src="/assets/javascripts/superfish.js"></script>
  <script src="/assets/javascripts/supersubs.js"></script>
  <script src="/assets/javascripts/chosen/chosen.jquery.js"></script>
  <script src="/assets/javascripts/jquery.flexslider-min.js"></script> 
  <script src="/assets/javascripts/filterable.pack.js"></script>
  <script src="/assets/javascripts/skeleton-key.js"></script>
  <script src="/assets/javascripts/peekaboo.js"></script>
  
  


</body>
</html>
